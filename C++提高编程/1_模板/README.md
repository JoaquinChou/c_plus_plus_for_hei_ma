# 1、模板
C++中除了<b>面向对象</b>的编程思想外，还有一种思想就是<b>泛型编程</b>，主要利用的技术就是模板。C++的两种模板机制——<b>函数模板</b>和<b>类模板</b>。
## 1.1 模板的概念
问题一：什么是模板？模板的特点是什么？<br>
答：模板可以建立起通用的框架，把变量的类型参数化，大大提高代码的复用性(试想不用模板如何写一个两个整型,浮点型,字符型变量两两交换的代码)。<br>
注意：1) 模板只是个框架，不能直接使用；2) 模板的通用性不是万能的。<br>
## 1.2 函数模板
问题一：什么是函数模板？<br>
答：建立一个通用函数，其函数的返回值类型和形参类型不具体指定，用一个<b>虚拟变量`T`</b>代表。例如`void func(int a)`写成`T func(T a)`。

问题二：函数模板的语法？<br>
答：
```C++
template<typename T>
// 接着写函数声明或定义
```
关键字`template`表示声明创建模板，关键字`typename`表示后面的符号是一种数据类型，该关键字可以用`class`取代。`T`表示自定义的数据类型。

问题三：函数模板的调用？<br>
答：两种方式
- 编译器自动类型推导，如`func(a, b);`
- 显示指定类型，如`func<int>(a, b);`
- 
问题四：函数模板的注意事项？<br>
答：
- 自动类型推导时，必须推导的出一致的数据类型`T`，才可以使用；
- 模板必须确定`T`的数据类型，才能使用。

问题五：函数模板案例<br>
案例描述：
- 利用函数模板封装一个排序函数，可以对<b>不同数据类型的数组</b>进行排序；
- 排序规则为从大到小，排序算法是<b>选择排序</b>；
- 分别用<b>int数组</b>和<b>char数组</b>进行测试。

问题六：普通函数和函数模板的区别？<br>
- 普通函数可以发生<b>隐式类型转换</b>；
- 函数模板调用时，若利用自动类型推导则不会发生隐式类型转换，若利用显示指定类型可以发生<b>隐式类型转换</b>。<br>
[注]：在实现模板时，推荐使用显示指定类型的写法。

问题七：普通函数和函数模板重载时，调用规则怎样呢？<br>
答：
- 如果函数模板和普通函数都可以调用，优先调用普通函数；
- 可以通过空模板参数列表来强制调用函数模板；
- 函数模板也可以发生重载；
- 如果函数模板可以产生更好的匹配(类型转换太费劲了)，优先调用函数模板。
<br>
[注]：既然提供了函数模板，最好不用普通函数，否则产生二义性。

问题八：模板的局限性有哪些？<br>
答：
- 模板的通用性不是万能的，有些自定义的数据类型不一定能直接跑；
- 利用具体化的模板，可以让自定义的数据类型更通用；
- 学习模板不是为了写模板，而是在STL中运用系统提供的模板。

# 1.3 类模板
问题一：什么是类模板？<br>
答：建立一个通用的类，类中的成员的数据类型可以不具体指定，用一个<b>虚拟类型</b>来表示。

问题二：类模板的语法？<br>
答：
```C++
template<typename T1, typename T2>
// 接着写函数声明或定义
```
关键字`template`表示声明创建模板，关键字`typename`表示后面的符号是一种数据类型，该关键字可以用`class`取代。`T`表示自定义的数据类型。

问题三：类模板和函数模板的区别？<br>
答：
- 类模板没有自动类型推导的使用方式；
- 类模板在模板参数列表(指`<>`里面的内容)中可以有默认参数。

问题四：类模板中的成员函数什么时候创建？<br>
答：
- 普通类的成员函数一开始就可以创建；
- 类模板的成员函数<b>调用时才创建</b>。

问题五：类模板实例化的对象怎样作为函数的参数传入？<br>
答：三种传入方式。
- 定义函数时指定传入类型；
- 传入的参数模板化；
- 传入的类模板化。

问题六：类模板怎么实现继承？<br>
答：
- 父类是一个类模板时，子类在声明时，要指定父类的类型；
- 如果不指定，编译器无法为子类提供内存；
- 如果要灵活分别指定父类和子类的类型，在定义子类时，在模板参数列表中多写几个模板参数即可。

问题七：类模板成员函数的类外如何实现？<br>
答：类模板的成员函数类外实现时，要加上类的作用域和模板的参数列表即可。
```C++
template<class T1, class T2>
类名<T1, T2>::函数名() {

}
```
问题八：类模板成员函数分文件编写时为什么链接不到？<br>
答：因为类模板的成员函数只会在调用时创建，编译时看到`.h`文件中函数的声明但是不创建，所以`.cpp`无法链接。<br>

问题九：类模板成员函数如何分文件编写？<br>
答：两种解决方法。<br>
- 直接包含`.cpp`源文件(不推荐)；
- 将声明和实现写到同一个文件中并改文件后缀名为`.hpp`。(推荐)



